\section{Discrete-Time Systems}
\subsection{Digital Control Systems}
All continuous-time (CT) system properties hold for discrete-time (DT) in the same way as DT values form a subset of CT values.
\subsubsection{Holding, D $\rightarrow$ A}
\textbf{Hold}: a linear system that takes DT signal as input and outputs CT signal.\\
Holding results in a CT signal with average delay $T/2$.\\

\ptitle{Zero-Order Hold (ZOH)}

\noindent\begin{align*}
    y(t) & =u[k], \; \forall kT \le t < (k+1)T                 \\
    y(t) & =u[\lfloor t/T\rfloor], \; \forall t \in \mathbb{R}
\end{align*}

\subsubsection{Sampling, A $\rightarrow$ D}
\textbf{Sampler}: a linear system that takes CT signal as input and outputs DT sequence.
\noindent\begin{align*}
    y[k]= & u(kT),\quad\forall k\in\mathbb{Z}
\end{align*}
\subsubsection{Aliasing}
\ptitle{Nyquist-Shannon Sampling Theorem}

A signal can be reconstructed without aliasing from samples at rate $1/T$ if it does not contain frequencies higher than the Nyquist (folding) frequency:
\noindent\begin{align*}
    \omega_{\mathbf{f}}: & =\frac\pi T[rad/s]=\frac1{2T}[Hz]
\end{align*}
A signal
\noindent\begin{align*}
    y[k] & =\cos[\omega\cdot kT]
\end{align*}
has the same samples as a sinusoid with frequency
\noindent\begin{align*}
    \omega' & =\left|\omega\pm n\frac{2\pi}{T}\right|,\; n\in\mathbb{N}
\end{align*}
%
\ptitle{Anti-Aliasing Filter}

Low-pass filter before the A $\rightarrow$ D converter with
\noindent\begin{align*}
    \omega_{c,LP} & < \omega_f
\end{align*}
where $\omega_{c,LP}$ must be high enough to caputre system dynamics.
%
%
\subsection{DT State-Space Models}
\subsubsection{Difference Equations}
$t = kT$
\renewcommand{\arraystretch}{1.3}
\setlength\tabcolsep{3pt} % default value: 6pt
\begin{tabularx}{\linewidth}{@{}lll@{}}
                                                             & Time-Invariant          & Time-Variant                 \\
    \cmidrule{2-3}
    \multirow{3}{*}{\begin{sideways}Nonlinear\end{sideways}} & $x[k+1] = f(x[k],u[k])$ & $x[k+1] = f(t,x[k],u[k])$    \\
                                                             & $y[t] = h(x[k],u[k])$   & $y[t] = h(t,x[k],u[k])$      \\
                                                             & $x[0]=x_0$              & $x[0]=x_0$                   \\
    \cmidrule{2-3}
    \multirow{3}{*}{\begin{sideways}Linear\end{sideways}}    & $x[k+1] = Ax[k]+Bu[k]$  & $x[k+1] = A[k]x[k]+B[k]u[k]$ \\
                                                             & $y[k] = Cx[k]+Du[k]$    & $y[k] = C[k]x[k]+D[k]u[k]$   \\
                                                             & $x[0] = x_0$            & $x[0]=x_0$                   \\
\end{tabularx}
\renewcommand{\arraystretch}{1}
\setlength\tabcolsep{6pt} % default value: 6pt

% \ptitle{General Case}

% A finite-dimensional, DT, causal system can be modelled by
% \noindent\begin{align*}
%     x[k+1] & =f(t,x[k],u[k]), \; x[0]=x_0 \\
%     y[t]   & =h(t,x[k],u[k])
% \end{align*}
% If the system is additionally linear it can be modelled by
% \noindent\begin{align*}
%     x[k+1] & =A[k]x[k]+B[k]u[k], \; x[0]=x_0 \\
%     y[k]   & =C[k]x[k]+D[k]u[k]
% \end{align*}
% A LTI system can be modelled by
% \noindent\begin{align*}
%     x[k+1] & =Ax[k]+Bu[k], \; x[0]=x_0 \\
%     y[k]   & =Cx[k]+Du[k]
% \end{align*}
As in CT, the system is \textbf{strictly causal} iff $D=0$.
\subsubsection{Time Response}
\noindent\begin{align*}
    y[k]=\underbrace{CA^{k}x_0}_{\textsf{homogeneous r.}} + \underbrace{C\sum_{i=0}^{k-1}A^{k-i-1}Bu[i]+Du[k]}_{\textsf{forced response}}
\end{align*}
\subsubsection{Internal Stability for DT Systems}
\ptitle{If A is Diagonalizable}

For diagonalizable matrices A:\
\noindent\begin{align*}
    A^k & ={(T\Lambda T^{-1})}^k=T\Lambda^{k}T^{-1}=T\begin{bmatrix}\lambda_1^k&&&\\&\lambda_2^k&&\\&&\ddots&\\&&&\lambda_n^k\end{bmatrix}T^{-1}
\end{align*}
$\lim_{k\to+\infty}A^k=0$ is fulfilled if
\noindent\begin{align*}
    |\lambda_i| & <1,\quad\forall i=1,\ldots,n
\end{align*}
which means that all Eigenvalues must lie within the unit circle in the complex plane.\\
\ptitle{If A is Defective}

Similarly, each block in the Jordan form will converge to zero if and only if
\noindent\begin{align*}
    |\lambda_i| & <1,\quad\forall i=1,\ldots,n
\end{align*}
Reminder:
\noindent\begin{align*}
    \left.\exp\left(\begin{bmatrix}\lambda&1\\ 0&\lambda\\\end{bmatrix}\right.t\right)               & =\begin{bmatrix}1&t\\0&1\end{bmatrix}\text{e}^{\lambda t}                          \\
    \left.\exp\left(\begin{bmatrix}\lambda&1&0\\0&\lambda&1\\0&0&\lambda\end{bmatrix}\right.t\right) & =\begin{bmatrix}1&t&\frac{1}{2!}t^2\\0&1&t\\0&0&1\end{bmatrix}\text{e}^{\lambda t}
\end{align*}
%
\subsection{Transfer Functions (TF) of DT LTI Systems}
\ptitle{Time Response to Elementry Inputs}

Similar to the CT case, a geometric sequence $z^k$ corresponds to an input sequence
\noindent\begin{align*}
    u[k] & =u_0z^k=u_0e^{ksT}=u(kT), \; z=e^{sT}
\end{align*}
The corresponding time response is
\noindent\begin{align*}
    y[k] & = \underbrace{CA^k(x_0-C{(zI-A)}^{-1}Bu_0)}_{\textsf{transient}}+\dots \\
         & +\underbrace{C{(zI-A)}^{-1}Bu_0z^k+Du_0z^k}_{\textsf{steady-state}}
\end{align*}
\ptitle{Pulse/Discrete TF}

For asymptotically stable DT LTI systems, for large $k$:
\noindent\begin{align*}
    y[k] & \approx G(z)u[k]    \\
    G(z) & :=C{(z1-A)}^{-1}B+D
\end{align*}
\subsubsection{Special TF and Remarks}
\ptitle{DC Gain}

If it exists (no EV at $1$), the real matrix
\noindent\begin{align*}
    G(1) & =C{(1-A)}^{-1}B+D
\end{align*}
is called DC gain and corresponds to $\lim_{k\to+\infty}y[k]$ for $z=1$ i.e. $u[k]=u_0$.\\
%
\ptitle{Time Delay}

\noindent\begin{align*}
    y[k] & =u[k-1] & =u_0z^{k-1}=\frac1zu[k]
\end{align*}
\ptitle{Realizations of DT TF}

All methods to create (state space) realizations of CT TF as LTI models can be adapted to DT TF.\
%
%
\subsection{Design and Implementation of DT Control Systems}
% \subsubsection{Basics}
There are two main design paradigms for DT control systems:
\begin{enumerate}
    \item DT:\ The CT system is converted to a DT system and the design process happens in DT
    \item Emulation:\ the design process happens in CT and the result is transferred to DT
\end{enumerate}
\subsubsection{DT}
The \textbf{DT state space matrices} can be derived from the \textbf{CT state space matrices}:
\noindent\begin{align*}
    A_d & :=e^{AT} & B_d & :=\left(\int_0^T {e^{A\theta}}d\theta\right)B \overset{A \text{ invert.}}{=} A^{-1}\left(A_d-I\right)B \\
    C_d & :=C      & D_d & :=D
\end{align*}
\noindent\begin{align*}
    x[k+1] & =A_d x[k]+B_d u[k], \; x[0]=x_0 \\
    y[k]   & =C_d x[k]+D_d u[k]
\end{align*}
\paragraph{s Plane vs.\ z Plane}
Similar to CT, the natural dynamics of a DT LTI system are given by the Eigenvalues of $A_d$.\\
For given Eigenvalues $\lambda_i$ of $A$ the eigenvalues of $A_d$ are
\noindent\begin{align*}
    z & =e^{\lambda_1T},e^{\lambda_2T},\ldots,e^{\lambda_{n}T}
\end{align*}
\ptitle{Mapping}

\begin{enumerate}
    \item CT left half plane $\rightarrow$ DT unit disk
    \item CT neighborhood of origin $\rightarrow$ DT neighborhood of $+1$ point
    \item CT poles at $j\omega_f$ $\rightarrow$ DT $-1$ point (because $e^{j\omega_{f}T}=-1$)
    \item CT finite poles cannot be mapped to the DT origin and the DT origin does not have a CT equivalent
\end{enumerate}
\subsubsection{Emulation}
Design the control system in CT.\ This outputs a compensator (as TF or state space model) which is then converted to DT.\
\paragraph{Emulation in Frequency Domain}
\ptitle{Tustin's Method}

\noindent\begin{align*}
    G_{c,d}(z) & =G_{c}\left(s=\frac2T\frac{z-1}{z+1}\right)
\end{align*}
which corresponds to a rearranged PadÃ© approximation for $z$.
\paragraph{Emulation in Time Domain}
If the design process outputs a state space controller the resulting matrices could easily be transferred to DT.\\
However, the ``hold and sample'' does not work for the compensator as its inputs are DT and the outputs are held (not vice versa).\\
\ptitle{Numerical Emulation: Forward Difference}

\noindent\begin{align*}
    \xi(t)-\xi(t-T) & \approx T\cdot\dot{\xi}(t-T)   \\
                    & \text{yields}                  \\
    \xi(t)          & \approx(I+AT)\xi(t-T)+BTe(t-T)
\end{align*}
which is simple but can result in an unstable compensator as $s=\lambda \rightarrow z=1+\lambda T$.\\
%
\ptitle{Numerical Emulation: Backward Difference}

\noindent\begin{align*}
    \xi(t)-\xi(t-T) & \approx T\cdot\dot{\xi}(T)                       \\
                    & \text{yields}                                    \\
    \xi(t)          & \approx{(I-AT)}^{-1}\xi(t-T)+{(I-AT)}^{-1}BTe(t)
\end{align*}
which avoids instability as $s=\lambda \rightarrow z={(1-\lambda T)}^{-1}$. This transforms poles into a disk smaller than the unit disk. DT poles cannot get negative real part.\\
\ptitle{Numerical Emulation: Trapezoidal Rule}

\noindent\begin{align*}
    \xi(t)-\xi(t-T) & \approx \frac T2\left(\dot{\xi}(t)+\dot{\xi}(t-T)\right) \\
                    & \text{yields}                                            \\
    \xi(t)          & \approx{\left(I-\frac{AT}{2}\right)}^{-1}\left(I+\frac{AT}{2}\right)\xi(t-T)                   \\
                    & +{\left(I-\frac{AT}{2}\right)}^{-1}BT\frac{e(t)+e(t-T)}2
\end{align*}
which maps the left half plane to the unit disk.